const e=new class{constructor(){}estimateAge(e={}){let a=Math.random().toString(36).substring(2,15),t=e.localTesting?"../index.html":"https://universal-verify.github.io/age-estimator/",s=e.localTesting?window.location.origin:"https://universal-verify.github.io";const o=window.open(t,"_blank");window.addEventListener("message",(t=>{if(t.source===o)if("age-estimation-result"===t.data.type){if(t.data.nonce!==a)return;e.successCallback?e.successCallback(t.data.age):console.log("Missing successCallback for age estimation"),o.close()}else if("age-estimation-error"===t.data.type){if(e.errorCallback){if(t.data.nonce!==a)return;e.errorCallback(t.data.error)}else console.log("Missing errorCallback for age estimation");o.close()}else"check-parent-commandeer"===t.data.type&&o.postMessage({type:"confirm-parent-commandeer",nonce:a},s)}))}};export{e as default};
