const e=new class{constructor(){}estimateAge(e={}){let a=Math.random().toString(36).substring(2,15),s=e.localTesting?"../index.html":"https://universal-verify.github.io/age-estimator/",t=e.localTesting?window.location.origin:"https://universal-verify.github.io",o=e.livenessCheck||!1;const n=window.open(s,"_blank");window.addEventListener("message",(s=>{if(s.source===n)if("age-estimation-result"===s.data.type){if(s.data.nonce!==a)return;e.successCallback?e.successCallback(s.data.age):console.log("Missing successCallback for age estimation"),n.close()}else if("age-estimation-error"===s.data.type){if(e.errorCallback){if(s.data.nonce!==a)return;e.errorCallback(s.data.error)}else console.log("Missing errorCallback for age estimation");n.close()}else"check-parent-commandeer"===s.data.type&&n.postMessage({type:"confirm-parent-commandeer",nonce:a,livenessCheck:o},t)}))}};export{e as default};
